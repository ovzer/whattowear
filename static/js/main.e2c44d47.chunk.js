(this.webpackJsonpwhattowear=this.webpackJsonpwhattowear||[]).push([[0],{127:function(e,n,t){e.exports=t(165)},132:function(e,n,t){},152:function(e,n){},154:function(e,n){},165:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(10),c=t.n(o),i=(t(132),t(11)),u=t(108),s=t(211),l=t(212),p=t(213),d=t(217),h=t(214),m=t(215),f=t(208),g=t(114),b=t.n(g),v=t(219),y=function(e){var n=e.isMenuOpen,t=e.setMenuOpen;return r.a.createElement(v.a,{open:n,disableDiscovery:!0,disableSwipeToOpen:!1,onOpen:function(){return t(!0)},onClose:function(){return t(!1)}},r.a.createElement(d.a,{width:300,p:2},"Hei"))},w=t(13),j=t.n(w),x=t(35),O=t(16),S=t(206),k=t(207),E=t(216),T=t(209),I=t(210),W=t(171),L=t(110),P=t.n(L),R=t(218),C=t(107),H="CJ4toNHgCtdY0nPHShREmePsIJ3mGDuZdC9Yr73p1Hs",B=function(e,n){return[e.street,e.district,e.city,e.county,e.state,e.country].filter((function(e){return e})).slice(0,n).join(", ")},D=function(){var e=Object(O.a)(j.a.mark((function e(n,t,a){var r,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return",[]);case 2:return(r=new URL("https://autocomplete.geocoder.ls.hereapi.com/6.2/suggest.json")).searchParams.append("apiKey",H),r.searchParams.append("query",n),t&&r.searchParams.append("prox","".concat(t.latitude,",").concat(t.longitude,",1000")),r.searchParams.append("maxresults","4"),a&&(r.searchParams.append("beginHighlight",a),r.searchParams.append("endHighlight",a)),e.next=10,fetch(r.href);case 10:if((o=e.sent).ok){e.next=13;break}return e.abrupt("return",[]);case 13:return e.next=15,o.json();case 15:return c=e.sent,e.abrupt("return",c.suggestions.map((function(e){return{locationName:B(e.address,1),secondaryText:B(e.address,4),locationId:e.locationId}})));case 17:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(O.a)(j.a.mark((function e(n){var t,a,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return(t=new URL("https://reverse.geocoder.ls.hereapi.com/6.2/reversegeocode.json")).searchParams.append("apiKey",H),t.searchParams.append("prox","".concat(n.latitude,",").concat(n.longitude)),t.searchParams.append("mode","retrieveAddresses"),t.searchParams.append("maxresults","1"),e.prev=7,e.next=10,fetch(t.href);case 10:if((a=e.sent).ok){e.next=13;break}throw a;case 13:return e.next=15,a.json();case 15:return r=e.sent,o=r.Response.View[0].Result[0].Location.Address,e.abrupt("return",{locationName:o.Street||o.City,secondaryText:o.Label,coordinates:{lat:n.latitude,lon:n.longitude}});case 20:return e.prev=20,e.t0=e.catch(7),console.error(e.t0),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(j.a.mark((function e(n){var t,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.locationId){e.next=2;break}return e.abrupt("return",null);case 2:return(t=new URL("https://geocoder.ls.hereapi.com/6.2/geocode.json")).searchParams.append("apiKey",H),t.searchParams.append("locationid",n.locationId),e.next=7,fetch(t.href);case 7:if((a=e.sent).ok){e.next=10;break}return e.abrupt("return",null);case 10:return e.next=12,a.json();case 12:return r=e.sent,e.abrupt("return",{lat:r.Response.View[0].Result[0].Location.DisplayPosition.Latitude,lon:r.Response.View[0].Result[0].Location.DisplayPosition.Longitude});case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=Object(u.a)((function(e){return{paper:{backgroundColor:e.palette.primary.dark,borderRadius:0,boxShadow:e.shadows[10]}}})),A=function(e){var n=e.setLocation,t=e.location,o=Object(C.a)("geolocation"),c=o.status,u=o.error,s=Object(a.useState)(),l=Object(i.a)(s,2),p=l[0],h=l[1],m=Object(a.useState)(null),f=Object(i.a)(m,2),g=f[0],b=f[1],v=function(e,n){var t=Object(a.useState)(e),r=Object(i.a)(t,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){return c(e)}),n);return function(){return clearTimeout(t)}}),[n,e]),o}(g,500),y=Object(a.useState)([]),w=Object(i.a)(y,2),L=w[0],H=w[1],B=Object(a.useState)(!1),A=Object(i.a)(B,2),M=A[0],U=A[1],$=Object(a.useState)(!1),G=Object(i.a)($,2),J=G[0],V=G[1],q=z();Object(a.useEffect)((function(){(function(){var e=Object(O.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t.coordinates){e.next=5;break}return e.next=3,N(t);case 3:(a=e.sent)&&n((function(e){return Object(x.a)({},e,{coordinates:a})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,n]);var K=Object(a.useCallback)(Object(O.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=function(e){h(e.coords),function(){var t=Object(O.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e.coords);case 2:null!==(a=t.sent)&&n(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()},a=function(e){console.error("Geolocation error",e)},navigator.geolocation.getCurrentPosition(t,a)}catch(u){console.error("Geolocation error:",u)}case 1:case"end":return e.stop()}}),e)}))),[n]);Object(a.useEffect)((function(){console.log({status:c}),console.log({error:u}),"granted"===c&&(console.log("granteed"),K())}),[c,K,u]),Object(a.useEffect)((function(){null===v||""===v?H([]):function(){var e=Object(O.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,D(v,p,"#");case 3:n=e.sent,H(n),U(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[v,p]);var Y=function(e){var n=e.string.split("#");return r.a.createElement(r.a.Fragment,null,n.map((function(e,n){return r.a.createElement("span",{key:n,style:{fontWeight:n%2?700:300}},e)})))};return r.a.createElement(r.a.Fragment,null,"denied"!==c&&!p&&r.a.createElement(d.a,{mb:1},r.a.createElement(S.a,{variant:"outlined",onClick:K},"Finn posisjonen min")),r.a.createElement(k.a,{title:"denied"===c?"For \xe5 hente posisjonen automatisk m\xe5 du fjerne blokkeringen av posisjonsdeling i nettleseren din":""},r.a.createElement(R.a,{classes:{paper:q.paper},value:t,options:L,multiple:!1,loading:M,includeInputInList:!0,filterOptions:function(e){return e},onChange:function(e,t){n(null!==t?t:null)},onInputChange:function(e,n,t){b(null!==n&&"input"===t?n:null)},noOptionsText:"",popupIcon:null,disableClearable:!0,disableOpenOnFocus:!0,autoHighlight:!0,renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Location",variant:"standard",fullWidth:!0,onBlur:function(){return V(!1)},onFocus:function(){return V(!0)},InputProps:Object(x.a)({},e.InputProps,{startAdornment:r.a.createElement(T.a,{position:"start"},r.a.createElement(P.a,{color:J?"primary":"inherit"}))})}))},getOptionLabel:function(e){return e.locationName&&e.locationName.replace(new RegExp("#","g"),"")||""},renderOption:function(e){return r.a.createElement(I.a,{container:!0,alignItems:"center"},r.a.createElement(I.a,{item:!0,xs:!0},r.a.createElement(W.a,{variant:"body1"},r.a.createElement(Y,{string:e.locationName})),e.secondaryText&&r.a.createElement(W.a,{variant:"caption",color:"textSecondary"},r.a.createElement(Y,{string:e.secondaryText}))))}})))},M=t(17),U=t(111),$=t(84),G=t.n($),J=function(){var e=Object(O.a)(j.a.mark((function e(n){var t,a,r,o,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("https://api.met.no/weatherapi/locationforecast/1.9/")).searchParams.append("lat",n.lat.toString()),t.searchParams.append("lon",n.lon.toString()),e.prev=3,e.next=6,fetch(t.href);case 6:return a=e.sent,e.next=9,a.text();case 9:return r=e.sent,e.next=12,Object(U.parseStringPromise)(r);case 12:return o=e.sent,c=o.weatherdata.product[0].time,i=c.filter((function(e){return!G()().endOf("hour").diff(G()(e.$.from),"minutes")})).reduce((function(e,n){return Object(x.a)({},n.location[0],{},e)}),{}),e.abrupt("return",{temperature:+i.temperature[0].$.value,cloudiness:+i.cloudiness[0].$.percent,humidity:+i.humidity[0].$.value,windSpeed:+i.windSpeed[0].$.mps,precipitation:+i.precipitation[0].$.value,symbol:parseInt(i.symbol[0].$.number)});case 18:return e.prev=18,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(n){return e.apply(this,arguments)}}(),V=t(112),q=t.n(V),K=function(){var e=Object(O.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=q.a.getPosition(new Date,n.lat,n.lon),e.abrupt("return",180*t.altitude/Math.PI);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=function(e,n){var t=e.cloudiness,a=e.humidity,r=e.temperature,o=e.windSpeed,c=0;n>0&&(c=114*Math.sin(n*Math.PI/180)*((100-t)/100));var i=r+a/100*6.105*Math.exp(17.27*r/(237.7+r))*.348-.7*o+c/(o+10)*.7-4.25;return Math.round(10*i)/10},Z=t(113),Q=t.n(Z),X=t(6),_={1:{name:"Sun",icon:X.q,nightIcon:X.e},2:{name:"LightCloud",icon:X.g,nightIcon:X.f},3:{name:"PartlyCloud",icon:X.g,nightIcon:X.f},4:{name:"Cloud",icon:X.a},5:{name:"LightRainSun",icon:X.i,nightIcon:X.m},6:{name:"LightRainThunderSun",icon:X.d},7:{name:"SleetSun",icon:X.k,nightIcon:X.p},8:{name:"SnowSun",icon:X.j,nightIcon:X.n},9:{name:"LightRain",icon:X.i,nightIcon:X.m},10:{name:"Rain",icon:X.m,nightIcon:X.m},11:{name:"RainThunder",icon:X.d},12:{name:"Sleet",icon:X.p},13:{name:"Snow",icon:X.n},14:{name:"SnowThunder",icon:X.n},15:{name:"Fog",icon:X.b},20:{name:"SleetSunThunder",icon:X.h,nightIcon:X.c},21:{name:"SnowSunThunder",icon:X.h,nightIcon:X.c},22:{name:"LightRainThunder",icon:X.d},23:{name:"SleetThunder",icon:X.c},24:{name:"DrizzleThunderSun",icon:X.d},25:{name:"RainThunderSun",icon:X.d},26:{name:"LightSleetThunderSun",icon:X.d},27:{name:"HeavySleetThunderSun",icon:X.d},28:{name:"LightSnowThunderSun",icon:X.d},29:{name:"HeavySnowThunderSun",icon:X.d},30:{name:"DrizzleThunder",icon:X.d},31:{name:"LightSleetThunder",icon:X.d},32:{name:"HeavySleetThunder",icon:X.d},33:{name:"LightSnowThunder",icon:X.d},34:{name:"HeavySnowThunder",icon:X.d},40:{name:"DrizzleSun",icon:X.i,nightIcon:X.m},41:{name:"RainSun",icon:X.i,nightIcon:X.m},42:{name:"LightSleetSun",icon:X.k,nightIcon:X.p},43:{name:"HeavySleetSun",icon:X.k,nightIcon:X.p},44:{name:"LightSnowSun",icon:X.j,nightIcon:X.n},45:{name:"HeavysnowSun",icon:X.j,nightIcon:X.n},46:{name:"Drizzle",icon:X.m},47:{name:"LightSleet",icon:X.m},48:{name:"HeavySleet",icon:X.l},49:{name:"LightSnow",icon:X.n},50:{name:"HeavySnow",icon:X.o}},ee=function(e){var n=e.symbol,t=e.night,a=e.color;if(!(n in _))return null;return r.a.createElement(Q.a,{path:function(){if(t){var e=_[n].nightIcon;if(void 0!==e)return e}return _[n].icon}(),size:4,horizontal:!0,vertical:!0,rotate:180,color:a||"inherit"})},ne=function(e){var n=e.coordinates,t=e.setApparentTemperature,o=e.apparentTemperature,c=Object(a.useState)(),u=Object(i.a)(c,2),s=u[0],l=u[1],p=Object(a.useState)(),h=Object(i.a)(p,2),m=h[0],f=h[1],g=Object(M.a)();return Object(a.useEffect)((function(){(function(){var e=Object(O.a)(j.a.mark((function e(){var a,r,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=4;break}l(void 0),e.next=11;break;case 4:return e.next=6,Promise.all([J(n),K(n)]);case 6:a=e.sent,r=Object(i.a)(a,2),o=r[0],c=r[1],null!==o&&null!==c&&(f(c<-10),t(Y(o,c)),l(o));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,t]),r.a.createElement(d.a,{display:"flex",flexDirection:"column",alignItems:"center"},s&&void 0!==m&&r.a.createElement(ee,{symbol:s.symbol,night:m,color:g.palette.common.white}),s&&o?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{variant:"h4"},"(".concat(o.toFixed(1),"\xb0C)")),r.a.createElement(W.a,{color:"textSecondary"},"".concat(s.temperature.toFixed(1),"\xb0C"))):r.a.createElement(W.a,{variant:"h4"},"-"))},te=t(9),ae=t(166),re=Object(u.a)((function(e){return{paper:{padding:e.spacing(2),backgroundColor:Object(te.c)(e.palette.common.white,.03)}}})),oe=function(e){var n=re();return r.a.createElement(ae.a,Object.assign({square:!0,variant:"outlined",className:n.paper},e),e.children)},ce={head:{lue:{range:[-100,-5],text:"Lue",shouldWear:!1},panneband:{range:[-5,8],text:"Panneb\xe5nd",shouldWear:!1},buff:{range:[-100,4],text:"Buff",shouldWear:!1}},upperBody:{lopejakke:{range:[-100,9],text:"Overtrekksjakke",shouldWear:!1},fleece:{range:[-100,-15],text:"Tynn fleecegenser",shouldWear:!1},tynnulltroye:{range:[-7,2],text:"Tynn ulltr\xf8ye",shouldWear:!1},tykkulltroye:{range:[-100,-7],text:"Tykk ulltr\xf8ye",shouldWear:!1},tynnsupertroye:{range:[6,15],text:"Tynn supertr\xf8ye",shouldWear:!1},tykksupertroye:{range:[2,6],text:"Tykk supertr\xf8ye",shouldWear:!1},hansker:{range:[-100,-2],text:"Hansker",shouldWear:!1},tskjorte:{range:[15,20],text:"T-skjorte",shouldWear:!1},singlett:{range:[20,100],text:"Singlett",shouldWear:!1}},lowerBody:{overtrekksbukse:{range:[-100,-5],text:"Overtrekksbukse",shouldWear:!1},longs:{range:[-100,-15],text:"Longs",shouldWear:!1},tights:{range:[-5,14],text:"Tights",shouldWear:!1},shorts:{range:[14,100],text:"Shorts",shouldWear:!1}}},ie=(Object(u.a)((function(e){return{smallPaper:{padding:e.spacing(3),margin:e.spacing(1),backgroundColor:Object(te.c)(e.palette.common.white,.1)},largePaper:{padding:e.spacing(3),minWidth:600}}})),function(e){var n=e.clothObject;return Object.entries(n).some((function(e){return e[1].shouldWear}))?r.a.createElement(d.a,{margin:1},r.a.createElement(oe,null,Object.entries(n).map((function(e){if(e[1].shouldWear)return r.a.createElement(W.a,{key:e[0]},e[1].text)})))):null}),ue=function(e){var n=e.apparentTemperature,t=Object(a.useState)(ce),o=Object(i.a)(t,2),c=o[0],u=o[1];return Object(a.useEffect)((function(){var e=function(e){for(var t={},a=0,r=Object.entries(e);a<r.length;a++){var o=Object(i.a)(r[a],2),c=o[0],u=o[1];t[c]=Object(x.a)({},u,{shouldWear:void 0!==n&&u.range[0]<n&&u.range[1]>n})}return t};u({head:e(ce.head),upperBody:e(ce.upperBody),lowerBody:e(ce.lowerBody)})}),[n]),r.a.createElement(d.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",mt:2},r.a.createElement(d.a,{display:"flex",flexDirection:"column"},r.a.createElement(ie,{clothObject:c.head}),r.a.createElement(ie,{clothObject:c.upperBody}),r.a.createElement(ie,{clothObject:c.lowerBody})))},se=function(){var e=Object(a.useState)(),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(),u=Object(i.a)(c,2),s=u[0],l=u[1];return r.a.createElement(d.a,{p:1,display:"flex",alignItems:"center",flexDirection:"column"},r.a.createElement(d.a,{m:1,flex:1,maxWidth:300,width:"100%",textAlign:"center"},r.a.createElement(A,{setLocation:o,location:t||null})),r.a.createElement(d.a,{m:1},r.a.createElement(ne,{apparentTemperature:s,setApparentTemperature:l,coordinates:null===t||void 0===t?void 0:t.coordinates})),r.a.createElement(ue,{apparentTemperature:s}))},le=t(115),pe=Object(le.a)({typography:{fontFamily:'system,-apple-system,".SFNSText-Regular","San Francisco",Roboto,"Segoe UI","Helvetica Neue","Lucida Grande",sans-serif',fontSize:16,fontWeightBold:900,fontWeightMedium:700,fontWeightRegular:600,fontWeightLight:400,body1:{letterSpacing:2,fontStyle:"italic",fontVariant:"small-caps"}},palette:{type:"dark",primary:{main:"hsl(35, 96%, 50%)"},secondary:{main:"hsl(138, 38%, 50%)"},background:{default:"hsl(206, 34%, 14%)",paper:"hsl(206, 34%, 14%)"}}}),de=Object(u.a)({appBar:{boxShadow:"none"},pageBackground:{background:"radial-gradient(circle at bottom, hsla(206, 54%, 20%, 1) 0%, hsla(206, 34%, 10%, 1) 100%)"}}),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement((function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(s.a)(pe.breakpoints.down("xs")),u=de();return r.a.createElement(l.a,{theme:pe},r.a.createElement(p.a,null),r.a.createElement(d.a,{className:u.pageBackground,minHeight:"100vh"},r.a.createElement(h.a,{position:"static",color:"transparent",className:u.appBar},r.a.createElement(m.a,null,!c&&r.a.createElement(f.a,{edge:"start",color:"inherit",onClick:function(){return o(!0)}},r.a.createElement(b.a,null)))),r.a.createElement(y,{isMenuOpen:t,setMenuOpen:o}),r.a.createElement(se,null)))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/whattowear",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/whattowear","/service-worker.js");he?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&!a.includes("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):me(n,e)}))}}()}},[[127,1,2]]]);
//# sourceMappingURL=main.e2c44d47.chunk.js.map