(this.webpackJsonpwhattowear=this.webpackJsonpwhattowear||[]).push([[0],{121:function(e,n,t){e.exports=t(159)},126:function(e,n,t){},146:function(e,n){},148:function(e,n){},159:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),i=(t(126),t(10)),u=t(103),s=t(203),l=t(204),p=t(208),d=t(205),h=t(206),m=t(200),f=t(110),g=t.n(f),b=t(211),v=function(e){var n=e.isMenuOpen,t=e.setMenuOpen;return r.a.createElement(b.a,{open:n,onClose:function(){return t(!1)}},r.a.createElement(p.a,{width:300,p:2},"Hei"))},y=t(9),w=t.n(y),j=t(34),x=t(16),S=t(207),O=t(201),k=t(202),E=t(161),T=t(106),I=t.n(T),W=t(209),L="CJ4toNHgCtdY0nPHShREmePsIJ3mGDuZdC9Yr73p1Hs",P=function(e,n){return[e.street,e.district,e.city,e.county,e.state,e.country].filter((function(e){return e})).slice(0,n).join(", ")},R=function(){var e=Object(x.a)(w.a.mark((function e(n,t,a){var r,o,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return",[]);case 2:return(r=new URL("https://autocomplete.geocoder.ls.hereapi.com/6.2/suggest.json")).searchParams.append("apiKey",L),r.searchParams.append("query",n),t&&r.searchParams.append("prox","".concat(t.latitude,",").concat(t.longitude,",1000")),r.searchParams.append("maxresults","4"),a&&(r.searchParams.append("beginHighlight",a),r.searchParams.append("endHighlight",a)),e.next=10,fetch(r.href);case 10:if((o=e.sent).ok){e.next=13;break}return e.abrupt("return",[]);case 13:return e.next=15,o.json();case 15:return c=e.sent,e.abrupt("return",c.suggestions.map((function(e){return{locationName:P(e.address,1),secondaryText:P(e.address,4),locationId:e.locationId}})));case 17:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(w.a.mark((function e(n){var t,a,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return(t=new URL("https://reverse.geocoder.ls.hereapi.com/6.2/reversegeocode.json")).searchParams.append("apiKey",L),t.searchParams.append("prox","".concat(n.latitude,",").concat(n.longitude)),t.searchParams.append("mode","retrieveAddresses"),t.searchParams.append("maxresults","1"),e.prev=7,e.next=10,fetch(t.href);case 10:if((a=e.sent).ok){e.next=13;break}throw a;case 13:return e.next=15,a.json();case 15:return r=e.sent,o=r.Response.View[0].Result[0].Location.Address,e.abrupt("return",{locationName:o.Street||o.City,secondaryText:o.Label,coordinates:{lat:n.latitude,lon:n.longitude}});case 20:return e.prev=20,e.t0=e.catch(7),console.error(e.t0),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(w.a.mark((function e(n){var t,a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.locationId){e.next=2;break}return e.abrupt("return",null);case 2:return(t=new URL("https://geocoder.ls.hereapi.com/6.2/geocode.json")).searchParams.append("apiKey",L),t.searchParams.append("locationid",n.locationId),e.next=7,fetch(t.href);case 7:if((a=e.sent).ok){e.next=10;break}return e.abrupt("return",null);case 10:return e.next=12,a.json();case 12:return r=e.sent,e.abrupt("return",{lat:r.Response.View[0].Result[0].Location.DisplayPosition.Latitude,lon:r.Response.View[0].Result[0].Location.DisplayPosition.Longitude});case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=Object(u.a)((function(e){return{paper:{backgroundColor:e.palette.primary.dark,borderRadius:0,boxShadow:e.shadows[10]}}})),N=function(e){var n=e.setLocation,t=e.location,o=Object(a.useState)(),c=Object(i.a)(o,2),u=c[0],s=c[1],l=Object(a.useState)(null),p=Object(i.a)(l,2),d=p[0],h=p[1],m=function(e,n){var t=Object(a.useState)(e),r=Object(i.a)(t,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){return c(e)}),n);return function(){return clearTimeout(t)}}),[n,e]),o}(d,500),f=Object(a.useState)([]),g=Object(i.a)(f,2),b=g[0],v=g[1],y=Object(a.useState)(!1),T=Object(i.a)(y,2),L=T[0],P=T[1],N=Object(a.useState)(!1),D=Object(i.a)(N,2),z=D[0],A=D[1],F=H();Object(a.useEffect)((function(){(function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t.coordinates){e.next=5;break}return e.next=3,B(t);case 3:(a=e.sent)&&n((function(e){return Object(j.a)({},e,{coordinates:a})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,n]),Object(a.useEffect)((function(){(function(){var e=Object(x.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=function(e){s(e.coords),function(){var t=Object(x.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e.coords);case 2:null!==(a=t.sent)&&n(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()},a=function(e){console.error("Geolocation error",e)},navigator.geolocation.getCurrentPosition(t,a)}catch(r){console.error("Geolocation error:",r)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(a.useEffect)((function(){null===m||""===m?v([]):function(){var e=Object(x.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,R(m,u,"#");case 3:n=e.sent,v(n),P(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[m,u]);var M=function(e){var n=e.string.split("#");return r.a.createElement(r.a.Fragment,null,n.map((function(e,n){return r.a.createElement("span",{key:n,style:{fontWeight:n%2?700:300}},e)})))};return r.a.createElement(W.a,{classes:{paper:F.paper},value:t,options:b,multiple:!1,loading:L,includeInputInList:!0,filterOptions:function(e){return e},onChange:function(e,t){n(null!==t?t:null)},onInputChange:function(e,n,t){h(null!==n&&"input"===t?n:null)},noOptionsText:"",popupIcon:null,disableClearable:!0,disableOpenOnFocus:!0,autoHighlight:!0,renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{label:"Location",variant:"standard",fullWidth:!0,onBlur:function(){return A(!1)},onFocus:function(){return A(!0)},InputProps:Object(j.a)({},e.InputProps,{startAdornment:r.a.createElement(O.a,{position:"start"},r.a.createElement(I.a,{color:z?"primary":"inherit"}))})}))},getOptionLabel:function(e){return e.locationName&&e.locationName.replace(new RegExp("#","g"),"")||""},renderOption:function(e){return r.a.createElement(k.a,{container:!0,alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(E.a,{variant:"body1"},r.a.createElement(M,{string:e.locationName})),e.secondaryText&&r.a.createElement(E.a,{variant:"caption",color:"textSecondary"},r.a.createElement(M,{string:e.secondaryText}))))}})},D=t(20),z=t(107),A=t(81),F=t.n(A),M=function(){var e=Object(x.a)(w.a.mark((function e(n){var t,a,r,o,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("https://api.met.no/weatherapi/locationforecast/1.9/")).searchParams.append("lat",n.lat.toString()),t.searchParams.append("lon",n.lon.toString()),e.prev=3,e.next=6,fetch(t.href);case 6:return a=e.sent,e.next=9,a.text();case 9:return r=e.sent,e.next=12,Object(z.parseStringPromise)(r);case 12:return o=e.sent,c=o.weatherdata.product[0].time,i=c.filter((function(e){return!F()().endOf("hour").diff(F()(e.$.from),"minutes")})).reduce((function(e,n){return Object(j.a)({},n.location[0],{},e)}),{}),e.abrupt("return",{temperature:+i.temperature[0].$.value,cloudiness:+i.cloudiness[0].$.percent,humidity:+i.humidity[0].$.value,windSpeed:+i.windSpeed[0].$.mps,precipitation:+i.precipitation[0].$.value,symbol:parseInt(i.symbol[0].$.number)});case 18:return e.prev=18,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(n){return e.apply(this,arguments)}}(),U=t(108),$=t.n(U),G=function(){var e=Object(x.a)(w.a.mark((function e(n){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$.a.getPosition(new Date,n.lat,n.lon),e.abrupt("return",180*t.altitude/Math.PI);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(e,n){var t=e.cloudiness,a=e.humidity,r=e.temperature,o=e.windSpeed,c=0;n>0&&(c=114*Math.sin(n*Math.PI/180)*((100-t)/100));var i=r+a/100*6.105*Math.exp(17.27*r/(237.7+r))*.348-.7*o+c/(o+10)*.7-4.25;return Math.round(10*i)/10},V=t(109),q=t.n(V),K=t(6),Y={1:{name:"Sun",icon:K.q,nightIcon:K.e},2:{name:"LightCloud",icon:K.g,nightIcon:K.f},3:{name:"PartlyCloud",icon:K.g,nightIcon:K.f},4:{name:"Cloud",icon:K.a},5:{name:"LightRainSun",icon:K.i,nightIcon:K.m},6:{name:"LightRainThunderSun",icon:K.d},7:{name:"SleetSun",icon:K.k,nightIcon:K.p},8:{name:"SnowSun",icon:K.j,nightIcon:K.n},9:{name:"LightRain",icon:K.i,nightIcon:K.m},10:{name:"Rain",icon:K.m,nightIcon:K.m},11:{name:"RainThunder",icon:K.d},12:{name:"Sleet",icon:K.p},13:{name:"Snow",icon:K.n},14:{name:"SnowThunder",icon:K.n},15:{name:"Fog",icon:K.b},20:{name:"SleetSunThunder",icon:K.h,nightIcon:K.c},21:{name:"SnowSunThunder",icon:K.h,nightIcon:K.c},22:{name:"LightRainThunder",icon:K.d},23:{name:"SleetThunder",icon:K.c},24:{name:"DrizzleThunderSun",icon:K.d},25:{name:"RainThunderSun",icon:K.d},26:{name:"LightSleetThunderSun",icon:K.d},27:{name:"HeavySleetThunderSun",icon:K.d},28:{name:"LightSnowThunderSun",icon:K.d},29:{name:"HeavySnowThunderSun",icon:K.d},30:{name:"DrizzleThunder",icon:K.d},31:{name:"LightSleetThunder",icon:K.d},32:{name:"HeavySleetThunder",icon:K.d},33:{name:"LightSnowThunder",icon:K.d},34:{name:"HeavySnowThunder",icon:K.d},40:{name:"DrizzleSun",icon:K.i,nightIcon:K.m},41:{name:"RainSun",icon:K.i,nightIcon:K.m},42:{name:"LightSleetSun",icon:K.k,nightIcon:K.p},43:{name:"HeavySleetSun",icon:K.k,nightIcon:K.p},44:{name:"LightSnowSun",icon:K.j,nightIcon:K.n},45:{name:"HeavysnowSun",icon:K.j,nightIcon:K.n},46:{name:"Drizzle",icon:K.m},47:{name:"LightSleet",icon:K.m},48:{name:"HeavySleet",icon:K.l},49:{name:"LightSnow",icon:K.n},50:{name:"HeavySnow",icon:K.o}},Z=function(e){var n=e.symbol,t=e.night,a=e.color;if(!(n in Y))return null;return r.a.createElement(q.a,{path:function(){if(t){var e=Y[n].nightIcon;if(void 0!==e)return e}return Y[n].icon}(),size:4,horizontal:!0,vertical:!0,rotate:180,color:a||"inherit"})},Q=function(e){var n=e.coordinates,t=e.setApparentTemperature,o=e.apparentTemperature,c=Object(a.useState)(),u=Object(i.a)(c,2),s=u[0],l=u[1],d=Object(a.useState)(),h=Object(i.a)(d,2),m=h[0],f=h[1],g=Object(D.a)();return Object(a.useEffect)((function(){(function(){var e=Object(x.a)(w.a.mark((function e(){var a,r,o,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=4;break}l(void 0),e.next=11;break;case 4:return e.next=6,Promise.all([M(n),G(n)]);case 6:a=e.sent,r=Object(i.a)(a,2),o=r[0],c=r[1],null!==o&&null!==c&&(f(c<-10),t(J(o,c)),l(o));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,t]),r.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center"},s&&void 0!==m&&r.a.createElement(Z,{symbol:s.symbol,night:m,color:g.palette.common.white}),s&&o?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{variant:"h4"},"(".concat(o.toFixed(1),"\xb0C)")),r.a.createElement(E.a,{color:"textSecondary"},"".concat(s.temperature.toFixed(1),"\xb0C"))):r.a.createElement(E.a,{variant:"h4"},"-"))},X=t(12),_=t(160),ee=Object(u.a)((function(e){return{paper:{padding:e.spacing(3),backgroundColor:Object(X.c)(e.palette.common.white,.03)}}})),ne=function(e){var n=ee();return r.a.createElement(_.a,Object.assign({square:!0,variant:"outlined",className:n.paper},e),e.children)},te={head:{lue:{range:[-100,-5],text:"Lue",shouldWear:!1},panneband:{range:[-5,8],text:"Panneb\xe5nd",shouldWear:!1},buff:{range:[-100,4],text:"Buff",shouldWear:!1}},upperBody:{lopejakke:{range:[-100,9],text:"Overtrekksjakke",shouldWear:!1},fleece:{range:[-100,-15],text:"Tynn fleecegenser",shouldWear:!1},tynnulltroye:{range:[-7,2],text:"Tynn ulltr\xf8ye",shouldWear:!1},tykkulltroye:{range:[-100,-7],text:"Tykk ulltr\xf8ye",shouldWear:!1},tynnsupertroye:{range:[6,15],text:"Tynn supertr\xf8ye",shouldWear:!1},tykksupertroye:{range:[2,6],text:"Tykk supertr\xf8ye",shouldWear:!1},hansker:{range:[-100,-2],text:"Hansker",shouldWear:!1},tskjorte:{range:[15,20],text:"T-skjorte",shouldWear:!1},singlett:{range:[20,100],text:"Singlett",shouldWear:!1}},lowerBody:{overtrekksbukse:{range:[-100,-5],text:"Overtrekksbukse",shouldWear:!1},longs:{range:[-100,-15],text:"Longs",shouldWear:!1},tights:{range:[-5,14],text:"Tights",shouldWear:!1},shorts:{range:[14,100],text:"Shorts",shouldWear:!1}}},ae=(Object(u.a)((function(e){return{smallPaper:{padding:e.spacing(3),margin:e.spacing(1),backgroundColor:Object(X.c)(e.palette.common.white,.1)},largePaper:{padding:e.spacing(3),minWidth:600}}})),function(e){var n=e.clothObject;return Object.entries(n).some((function(e){return e[1].shouldWear}))?r.a.createElement(p.a,{margin:1},r.a.createElement(ne,null,Object.entries(n).map((function(e){if(e[1].shouldWear)return r.a.createElement(E.a,{key:e[0]},e[1].text)})))):null}),re=function(e){var n=e.apparentTemperature,t=Object(a.useState)(te),o=Object(i.a)(t,2),c=o[0],u=o[1];return Object(a.useEffect)((function(){var e=function(e){for(var t={},a=0,r=Object.entries(e);a<r.length;a++){var o=Object(i.a)(r[a],2),c=o[0],u=o[1];t[c]=Object(j.a)({},u,{shouldWear:void 0!==n&&u.range[0]<n&&u.range[1]>n})}return t};u({head:e(te.head),upperBody:e(te.upperBody),lowerBody:e(te.lowerBody)})}),[n]),r.a.createElement(p.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",mt:2},r.a.createElement(p.a,{display:"flex",flexDirection:"column"},r.a.createElement(ae,{clothObject:c.head}),r.a.createElement(ae,{clothObject:c.upperBody}),r.a.createElement(ae,{clothObject:c.lowerBody})))},oe=function(){var e=Object(a.useState)(),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(),u=Object(i.a)(c,2),s=u[0],l=u[1];return r.a.createElement(p.a,{p:1,display:"flex",alignItems:"center",flexDirection:"column"},r.a.createElement(p.a,{m:1,flex:1,maxWidth:300,width:"100%"},r.a.createElement(N,{setLocation:o,location:t||null})),r.a.createElement(p.a,{m:1},r.a.createElement(Q,{apparentTemperature:s,setApparentTemperature:l,coordinates:null===t||void 0===t?void 0:t.coordinates})),r.a.createElement(re,{apparentTemperature:s}))},ce=t(111),ie=Object(ce.a)({typography:{fontFamily:'system,-apple-system,".SFNSText-Regular","San Francisco",Roboto,"Segoe UI","Helvetica Neue","Lucida Grande",sans-serif',fontSize:16,fontWeightBold:900,fontWeightMedium:700,fontWeightRegular:600,fontWeightLight:400,body1:{letterSpacing:2,fontStyle:"italic",fontVariant:"small-caps"}},palette:{type:"dark",primary:{main:"hsl(35, 96%, 50%)"},secondary:{main:"hsl(138, 38%, 50%)"},background:{default:"hsl(206, 34%, 14%)",paper:"hsl(206, 34%, 14%)"}}}),ue=Object(u.a)({appBar:{boxShadow:"none"},pageBackground:{background:"radial-gradient(circle at bottom, hsla(206, 54%, 20%, 1) 0%, hsla(206, 34%, 10%, 1) 100%)",height:"100%"}}),se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement((function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],o=n[1],c=ue();return r.a.createElement(s.a,{theme:ie},r.a.createElement(l.a,null),r.a.createElement(p.a,{className:c.pageBackground,flex:1},r.a.createElement(d.a,{position:"static",color:"transparent",className:c.appBar},r.a.createElement(h.a,null,r.a.createElement(m.a,{edge:"start",color:"inherit",onClick:function(){return o(!0)}},r.a.createElement(g.a,null)))),r.a.createElement(v,{isMenuOpen:t,setMenuOpen:o}),r.a.createElement(oe,null)))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");se?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&!a.includes("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(n,e)}))}}()}},[[121,1,2]]]);
//# sourceMappingURL=main.82456f50.chunk.js.map